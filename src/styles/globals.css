@import url('https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&family=Lexend:wght@200;300;400;500;600;700;800;900&display=swap')
layer(base);

@import 'tailwindcss';
@plugin "@tailwindcss/typography";

@custom-variant dark (&:is(.dark *));

@theme {
  --font-*: initial;
  --font-heading: 'Lexend', sans-serif;
  --font-body: 'Inter', sans-serif;

  --breakpoint-*: initial;
  --breakpoint-sm: 540px;
  --breakpoint-md: 768px;
  --breakpoint-lg: 1024px;
  --breakpoint-xl: 1140px;
  --breakpoint-2xl: 1320px;
  --breakpoint-xs: 500px;

  --color-current: currentColor;
  --color-transparent: transparent;
  --color-white: #ffffff;
  --color-primary: #4a6cf7;
  --color-dark-text: #79808a;
  --color-dark: #111722;
  --color-stroke: #e5e7eb;

  --background-image-noise-pattern: url('/images/NoisePattern.svg');

  --drop-shadow-light: drop-shadow(0px 1px 5px rgba(0, 0, 0, 0.1));
}

@utility container {
  margin-inline: auto;
  padding-inline: 1rem;
}

/* About Section Scroll Animations */
@utility about-section-animate {
  animation: fadeInUp 0.8s ease-out forwards;
  opacity: 0;
  transform: translateY(30px);
}

@keyframes fadeInUp {
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Smooth scroll behavior for about sections */
@utility about-scroll-smooth {
  scroll-behavior: smooth;
}

/*
  The default border color has changed to `currentColor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-gray-200, currentColor);
  }

  button:not(:disabled),
  [role="button"]:not(:disabled) {
    cursor: pointer;
  }

  /* Smooth scrolling for the entire page */
  html {
    scroll-behavior: smooth;
  }
}

@utility header {
  @apply py-0;
}

@utility sticky-navbar {
  @apply fixed! z-999 bg-white/95! transition-all! duration-300! dark:bg-dark/95!;
  backdrop-filter: blur(5px);
  box-shadow: inset 0 -1px 0 0 rgba(0, 0, 0, 0.1);

  & + * {
    @apply pt-20;
  }
}

@utility navbar {
  & > li > a,
  & > li > button {
    @apply py-2 lg:py-3 transition-colors duration-200;
  }
}

@utility menu-scroll {
  &.active {
    @apply text-primary;
  }
}

@utility active {
  &.menu-scroll {
    @apply text-primary;
  }

  /* .dark .title {
    background: linear-gradient(180deg, rgba(255, 255, 255, 0.4) 0%, rgba(255, 255, 255, 0) 100%);
  } */

  .submenu-item &a {
    @apply text-primary dark:text-white;
  }
  .submenu-item &a span svg {
    @apply rotate-180;
  }

  .portfolio-btn-wrapper &button {
    @apply underline;
  }
}

@utility menu-wrapper {
  @apply hidden;

  &.show {
    @apply flex;
  }
}

@utility show {
  &.menu-wrapper {
    @apply flex;
  }
}

@utility submenu-item {
  /* .dark .title {
    background: linear-gradient(180deg, rgba(255, 255, 255, 0.4) 0%, rgba(255, 255, 255, 0) 100%);
  } */

  & a.active {
    @apply text-primary dark:text-white;
  }
  & a.active span svg {
    @apply rotate-180;
  }
}

@utility grid-sizer {
  @apply w-full md:w-1/2 lg:w-1/3;
}

@utility portfolio-btn-wrapper {
  & button.active {
    @apply underline;
  }
}

@layer utilities {
  /* third-party libraries CSS */
  .tns-controls {
    @apply absolute bottom-14 left-1/2 z-30 flex -translate-x-1/2 space-x-5 lg:left-[70px] lg:translate-x-0;
  }

  .tns-controls button {
    @apply flex size-10 items-center justify-center rounded-full bg-primary/10 text-primary hover:bg-primary hover:text-white dark:bg-white/10 dark:text-white dark:hover:bg-primary dark:hover:text-white;
  }
}

@layer base {
  *,
  ::before,
  ::after {
    @apply border-stroke;
  }

  body {
    @apply font-body;
  }

  /* Prevent horizontal scrolling on mobile */
  html, body {
    overflow-x: hidden;
    max-width: 100vw;
  }

  /* Ensure all containers respect viewport width */
  * {
    box-sizing: border-box;
  }

  /* Fix wide elements that might cause overflow */
  img, video, iframe, embed, object {
    max-width: 100%;
    height: auto;
  }

  /* Prevent text overflow */
  pre, code {
    overflow-x: auto;
    word-wrap: break-word;
    white-space: pre-wrap;
  }

  /* Fix table overflow on mobile */
  table {
    width: 100%;
    table-layout: fixed;
    overflow-x: auto;
    display: block;
    white-space: nowrap;
  }

  @media (max-width: 768px) {
    table {
      font-size: 14px;
    }
  }
}

@layer components {
  html {
    @apply scroll-smooth;
  }

  /* Mobile-specific container fixes */
  .container {
    width: 100%;
    max-width: 100vw;
    padding-left: 1rem;
    padding-right: 1rem;
    margin-left: auto;
    margin-right: auto;
  }

  /* Responsive grid fixes */
  .grid {
    width: 100%;
  }

  /* Fix flex containers that might overflow */
  .flex {
    flex-wrap: wrap;
    min-width: 0;
  }

  /* Mobile-specific utilities */
  @media (max-width: 768px) {
    /* Ensure full-width sections don't overflow */
    section {
      width: 100%;
      max-width: 100vw;
      overflow-x: hidden;
    }

    /* Fix hero section on mobile */
    .hero-section {
      padding-left: 1rem;
      padding-right: 1rem;
    }

    /* Responsive text sizing */
    h1 {
      font-size: 2rem;
      line-height: 1.2;
      word-wrap: break-word;
    }

    h2 {
      font-size: 1.75rem;
      line-height: 1.3;
      word-wrap: break-word;
    }

    h3 {
      font-size: 1.5rem;
      line-height: 1.4;
      word-wrap: break-word;
    }

    /* Fix button layouts */
    .button-group {
      flex-direction: column;
      gap: 0.75rem;
      width: 100%;
    }

    .button-group > * {
      width: 100%;
      text-align: center;
    }

    /* Fix card layouts */
    .card-grid {
      grid-template-columns: 1fr;
      gap: 1rem;
    }

    /* Fix navigation overflow */
    nav ul {
      flex-direction: column;
      width: 100%;
    }

    /* Fix form layouts */
    form {
      width: 100%;
    }

    .form-grid {
      grid-template-columns: 1fr;
      gap: 1rem;
    }

    /* Fix image containers */
    .image-container {
      width: 100%;
      max-width: 100%;
      overflow: hidden;
    }

    /* Fix testimonial cards */
    .testimonial-grid {
      grid-template-columns: 1fr;
      gap: 1rem;
    }

    /* Fix service cards */
    .service-grid {
      grid-template-columns: 1fr;
      gap: 1.5rem;
    }

    /* Fix team member cards */
    .team-grid {
      grid-template-columns: 1fr;
      gap: 2rem;
    }

    /* Fix case study cards */
    .case-study-grid {
      grid-template-columns: 1fr;
      gap: 1.5rem;
    }
  }

  /* Tablet-specific adjustments */
  @media (min-width: 769px) and (max-width: 1024px) {
    .container {
      padding-left: 2rem;
      padding-right: 2rem;
    }

    .card-grid {
      grid-template-columns: repeat(2, 1fr);
    }

    .team-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  /* Prevent specific elements from causing overflow */
  .no-overflow {
    overflow-x: hidden;
    max-width: 100%;
  }

  /* Fix SVG responsiveness */
  svg {
    max-width: 100%;
    height: auto;
  }

  /* Fix background elements that might cause overflow */
  .bg-pattern {
    background-attachment: scroll;
    background-size: cover;
    background-position: center;
  }

  /* Fix absolute positioned elements */
  .absolute-element {
    max-width: calc(100vw - 2rem);
  }
}
